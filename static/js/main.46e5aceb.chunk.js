(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{117:function(e,t,a){},162:function(e,t,a){"use strict";a.r(t);var r=a(5),n=a(0),c=a(16),i=a.n(c),s=(a(117),a(43)),o=a(38),u=a(11),p=a(70),d=a.n(p),l=a(29),h=a.n(l),j=a(45),m=a(60),b=a(25),f=a(66),O=function(e){return Object(j.a)(h.a.mark((function t(){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f.get("https://api.openweathermap.org/data/2.5/weather?q=".concat(e,"&appid=").concat("16cc9f6b27a98cce64e2b6870013a68b"));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))()},x="ADD-CARD",g="ADD-CARD-SUCCESS",v="DELETE-CARD",_="GET-CARD",w="GET-DETAILS",y=localStorage.getItem("cities"),C={cities:y?JSON.parse(y):[],detailPage:null,newCityName:"",loading:!1},N=function(e){return{type:x,payload:e}},D=function(e){return{type:g,payload:e}},I=function(){return{type:"ADD-CARD-ERROR"}},W=function(e){return{type:_,payload:e}},E=function(e){return{type:w,payload:e}},T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1?arguments[1]:void 0;switch(console.log(e,t),t.type){case x:return Object(b.a)(Object(b.a)({},e),{},{loading:!0});case g:return Object(b.a)(Object(b.a)({},e),{},{cities:[].concat(Object(m.a)(e.cities),[t.payload]),loading:!1,newCityName:""});case v:return Object(b.a)(Object(b.a)({},e),{},{cities:e.cities.filter((function(e){return e.name!==t.payload}))});case _:var a=e.cities.findIndex((function(e){return e.name==t.payload.name}));return Object(b.a)(Object(b.a)({},e),{},{cities:[].concat(Object(m.a)(e.cities.slice(0,a)),[t.payload],Object(m.a)(e.cities.slice(a+1,y.length-1)))});case w:return Object(b.a)(Object(b.a)({},e),{},{detailPage:t.payload});default:return e}},P=function(e){return Object(n.useEffect)((function(){})),Object(r.jsxs)("div",{children:["DetailWeather",e.detailPage]})},k=Object(s.b)((function(e){return{cities:e.weatherPage.cities,detailPage:e.weatherPage.ddetailPage}}),{getDetail:function(e){return function(){var t=Object(j.a)(h.a.mark((function t(a){var r;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,O(e);case 3:r=t.sent,a(E(r.data)),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),a(I);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}})(P),S=a(92),A=a.n(S),R=function(e){return Object(r.jsx)("div",{className:A.a.header,children:Object(r.jsx)(o.c,{to:"/cities",children:"WeatherApp"})})},F=a(109),M=a.p+"static/media/preloader.61b857fb.svg",B=a(93),L=a.n(B),J=function(){return Object(r.jsx)("div",{className:L.a.preloader,children:Object(r.jsx)("img",{src:M})})},U=a(52),Y=a.n(U),G=a(53),V=a.n(G),X=(a(139),a(164)),q=a(165),z=a(166),H=function(e){var t=X.a.Meta;return Object(r.jsx)("div",{className:V.a.weatherItem,children:Object(r.jsx)(X.a,{className:V.a.weatherCard,style:{width:300},cover:Object(r.jsx)(o.b,{to:{pathname:"/cities/".concat(e.name)},children:Object(r.jsx)("div",{className:V.a.temperature,title:"Detail weather",children:"".concat(Math.round(e.temp-273.15),"\xb0")})}),actions:[Object(r.jsx)(q.a,{onClick:function(){var t;t=e.name,e.getCard(t)}},"refresh"),Object(r.jsx)(z.a,{onClick:function(){var t;t=e.name,e.deleteCard(t)}},"ellipsis")],children:Object(r.jsx)(t,{avatar:Object(r.jsx)("img",{src:"http://openweathermap.org/img/w/".concat(e.weather[0].icon,".png")}),title:e.name,description:Object(r.jsxs)("div",{children:[Object(r.jsx)("div",{children:"Temp min: ".concat(Math.round(e.minTemp-273.15))}),Object(r.jsx)("div",{children:"Temp max: ".concat(Math.round(e.maxTemp-273.15))}),Object(r.jsx)("div",{className:V.a.countryName,children:"Country:  ".concat(e.country)})]})})})})},Q=function(e){var t=Object(n.useState)(""),a=Object(F.a)(t,2),c=a[0],i=a[1];Object(n.useEffect)((function(){localStorage.setItem("cities",JSON.stringify(e.cities))}),[e.cities]);return Object(r.jsxs)("div",{className:Y.a.weather,children:[Object(r.jsx)("div",{className:Y.a.createForm,children:Object(r.jsxs)("form",{onSubmit:function(t){t.preventDefault(),!e.cities||0===e.cities.length||e.cities.some((function(e){return e.name!==c}))?e.getWeather(c):alert("The city has already been determined")},children:[Object(r.jsx)("input",{placeholder:"City",type:"text",name:"city",onChange:function(e){i(e.currentTarget.value)}}),Object(r.jsx)("button",{children:"Create card"})]})}),Object(r.jsx)("div",{className:Y.a.weatherItemBlock,children:0===e.cities.length?Object(r.jsx)("div",{className:Y.a.cover,children:"FIND YOUR CITY!"}):e.loading?Object(r.jsx)(J,{}):e.cities.map((function(t){return Object(r.jsx)(H,{name:t.name,temp:t.main.temp,weather:t.weather,minTemp:t.main.temp_min,maxTemp:t.main.temp_max,country:t.sys.country,deleteCard:e.deleteCard,getCard:e.getCard},t.id)}))})]})},K=Object(s.b)((function(e){return{cities:e.weatherPage.cities,newCityName:e.weatherPage.newCityName,loading:e.weatherPage.loading}}),{getWeather:function(e){return function(){var t=Object(j.a)(h.a.mark((function t(a){var r;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(N(e)),t.prev=1,t.next=4,O(e);case 4:r=t.sent,a(D(r.data)),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),a(I);case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()},getCard:function(e){return function(){var t=Object(j.a)(h.a.mark((function t(a){var r;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,O(e);case 3:r=t.sent,a(W(r.data)),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),a(I);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},deleteCard:function(e){return{type:v,payload:e}}})(Q),Z=a(108),$=a(65),ee=$.createStore,te=$.combineReducers,ae=$.applyMiddleware,re=$.compose,ne=ee(te({weatherPage:T}),(window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||re)(ae(Z.a))),ce=function(){return Object(r.jsx)(o.a,{children:Object(r.jsx)(s.a,{store:ne,children:Object(r.jsxs)("div",{className:d.a.appWrapper,children:[Object(r.jsx)(R,{}),Object(r.jsxs)("div",{className:d.a.appWrapperContent,children:[Object(r.jsx)(u.b,{exact:!0,path:"/",render:function(){return Object(r.jsx)(u.a,{from:"/",to:"/cities"})}}),Object(r.jsx)(u.b,{exact:!0,path:"/cities",render:function(){return Object(r.jsx)(K,{})}}),Object(r.jsx)(u.b,{exact:!0,path:"/cities/:id",render:function(){return Object(r.jsx)(k,{})}})]})]})})})},ie=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,167)).then((function(t){var a=t.getCLS,r=t.getFID,n=t.getFCP,c=t.getLCP,i=t.getTTFB;a(e),r(e),n(e),c(e),i(e)}))};i.a.render(Object(r.jsx)(ce,{}),document.getElementById("root")),ie()},52:function(e,t,a){e.exports={weather:"Weather_weather__cgm8F",createForm:"Weather_createForm__wmoxM",weatherItemBlock:"Weather_weatherItemBlock__2Dgpv",preloader:"Weather_preloader__18zsf",cover:"Weather_cover__4uP4l"}},53:function(e,t,a){e.exports={weatherItem:"WeatherItem_weatherItem__3_ipt",weatherCard:"WeatherItem_weatherCard__3yae7",temperature:"WeatherItem_temperature__12V51",countryName:"WeatherItem_countryName__3ck8Y"}},70:function(e,t,a){e.exports={appWrapper:"App_appWrapper__1-5Q9",appWrapperContent:"App_appWrapperContent__2v31U"}},92:function(e,t,a){e.exports={header:"Header_header__1Erth"}},93:function(e,t,a){e.exports={preloader:"Preloader_preloader__13OBf"}}},[[162,1,2]]]);
//# sourceMappingURL=main.46e5aceb.chunk.js.map