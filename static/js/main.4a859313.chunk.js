(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{122:function(e,t,a){},167:function(e,t,a){"use strict";a.r(t);var n=a(2),c=a(0),r=a.n(c),i=a(16),s=a.n(i),o=(a(122),a(45)),l=a(35),u=a(11),d=a(71),p=a.n(d),j=a(20),m=a(93),h=a(94),b=a(114),O=a(112),x=a.p+"static/media/preloader.24b5e06e.svg",_=a(95),f=a.n(_),v=function(){return Object(n.jsx)("div",{className:f.a.preloader,children:Object(n.jsx)("img",{src:x})})},g=a(29),y=a.n(g),w=a(47),D=a(61),C=a(67),N=function(e){return Object(w.a)(y.a.mark((function t(){return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,C.get("https://api.openweathermap.org/data/2.5/weather?q=".concat(e,"&appid=").concat("16cc9f6b27a98cce64e2b6870013a68b"));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))()},I="ADD-CARD",k="ADD-CARD-SUCCESS",T="DELETE-CARD",W="GET-CARD",P="GET-DETAILS",S=localStorage.getItem("cities"),E={cities:S?JSON.parse(S):[],detailPage:null,newCityName:"",loading:!1},M=function(e){return{type:I,payload:e}},A=function(e){return{type:k,payload:e}},R=function(){return{type:"ADD-CARD-ERROR"}},B=function(e){return{type:W,payload:e}},F=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;switch(console.log(e,t),t.type){case I:return Object(j.a)(Object(j.a)({},e),{},{loading:!0});case k:return Object(j.a)(Object(j.a)({},e),{},{cities:[].concat(Object(D.a)(e.cities),[t.payload]),loading:!1,newCityName:""});case T:return Object(j.a)(Object(j.a)({},e),{},{cities:e.cities.filter((function(e){return e.name!==t.payload}))});case W:var a=e.cities.findIndex((function(e){return e.name===t.payload.name}));return Object(j.a)(Object(j.a)({},e),{},{cities:[].concat(Object(D.a)(e.cities.slice(0,a)),[t.payload],Object(D.a)(e.cities.slice(a+1,S.length-1)))});case P:return Object(j.a)(Object(j.a)({},e),{},{detailPage:t.payload});default:return e}},H=a(30),J=a.n(H),L=function(e){var t=e.detailPage;return Object(n.jsxs)("div",{className:J.a.detailBlock,children:[Object(n.jsxs)("div",{className:J.a.nameImageCountry,children:[Object(n.jsxs)("div",{children:[t.name,", ",t.sys.country]}),Object(n.jsx)("div",{className:J.a.temp,children:"".concat(Math.round(t.main.temp-273.15),"\xb0")})]}),Object(n.jsxs)("div",{className:J.a.weatherDescription,children:[Object(n.jsxs)("div",{className:J.a.clouds,children:[Object(n.jsx)("img",{src:"http://openweathermap.org/img/w/".concat(t.weather[0].icon,".png"),alt:""}),Object(n.jsx)("p",{children:t.weather[0].description})]}),Object(n.jsxs)("div",{className:J.a.mainInfo,children:[Object(n.jsx)("div",{children:"Temp: ".concat(Math.round(t.main.temp-273.15),"\xb0")}),Object(n.jsx)("div",{children:"Feels like: ".concat(Math.round(t.main.feels_like-273.15),"\xb0")}),Object(n.jsx)("div",{children:"Temp min: ".concat(Math.round(t.main.temp_min-273.15),"\xb0")}),Object(n.jsx)("div",{children:"Temp max: ".concat(Math.round(t.main.temp_max-273.15),"\xb0")}),Object(n.jsx)("div",{children:"Pressure: ".concat(t.main.pressure," mm")}),Object(n.jsx)("div",{children:"Humidity: ".concat(t.main.humidity," %")})]})]}),Object(n.jsxs)("div",{className:J.a.suncycle,children:[Object(n.jsxs)("div",{className:J.a.sunrise,children:[Object(n.jsx)("h1",{children:"Sunrise:"})," ".concat(new Date(1e3*t.sys.sunrise))]}),Object(n.jsxs)("div",{className:J.a.sunset,children:[Object(n.jsx)("h1",{children:"Sunset:"})," ".concat(new Date(1e3*t.sys.sunset))]}),Object(n.jsx)("div",{})]})]})},U=function(e){Object(b.a)(a,e);var t=Object(O.a)(a);function a(){return Object(m.a)(this,a),t.apply(this,arguments)}return Object(h.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.match.params.cityName;this.props.getDetail(e)}},{key:"render",value:function(){return this.props.detailPage?Object(n.jsx)(L,Object(j.a)(Object(j.a)({},this.props),{},{detailPage:this.props.detailPage})):Object(n.jsx)(v,{})}}]),a}(r.a.Component),G=Object(u.f)(U),V=Object(o.b)((function(e){return{detailPage:e.weatherPage.detailPage}}),{getDetail:function(e){return function(){var t=Object(w.a)(y.a.mark((function t(a){var n;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,N(e);case 3:n=t.sent,a((c=n.data,{type:P,payload:c})),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),a(R);case 10:case"end":return t.stop()}var c}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}})(G),X=a(96),Y=a.n(X),Q=function(e){return Object(n.jsx)("div",{className:Y.a.header,children:Object(n.jsx)(l.c,{to:"/cities",children:"WeatherApp"})})},q=a(113),z=a(54),K=a.n(z),Z=a(39),$=a.n(Z),ee=(a(144),a(169)),te=a(170),ae=a(171),ne=function(e){var t=ee.a.Meta;return Object(n.jsx)("div",{className:$.a.weatherItem,children:Object(n.jsx)(ee.a,{className:$.a.weatherCard,style:{width:300},cover:Object(n.jsx)(l.b,{to:{pathname:"/cities/".concat(e.name)},children:Object(n.jsx)("div",{className:$.a.temperature,title:"Detail weather",children:"".concat(Math.round(e.temp-273.15),"\xb0")})}),actions:[Object(n.jsx)(te.a,{onClick:function(){var t;t=e.name,e.getCard(t)}},"refresh"),Object(n.jsx)(ae.a,{onClick:function(){var t;t=e.name,e.deleteCard(t)}},"ellipsis")],children:Object(n.jsx)(t,{avatar:Object(n.jsx)("img",{src:"http://openweathermap.org/img/w/".concat(e.weather[0].icon,".png")}),title:Object(n.jsx)("div",{className:$.a.title,children:e.name}),description:Object(n.jsxs)("div",{className:$.a.shortDescription,children:[Object(n.jsx)("div",{children:"Temp min: ".concat(Math.round(e.minTemp-273.15),"\xb0")}),Object(n.jsx)("div",{children:"Temp max: ".concat(Math.round(e.maxTemp-273.15),"\xb0")}),Object(n.jsx)("div",{className:$.a.countryName,children:"Country:  ".concat(e.country)})]})})})})},ce=function(e){var t=Object(c.useState)(""),a=Object(q.a)(t,2),r=a[0],i=a[1];Object(c.useEffect)((function(){localStorage.setItem("cities",JSON.stringify(e.cities))}),[e.cities]);return Object(n.jsxs)("div",{className:K.a.weather,children:[Object(n.jsx)("div",{className:K.a.createForm,children:Object(n.jsxs)("form",{onSubmit:function(t){t.preventDefault(),!e.cities||0===e.cities.length||e.cities.some((function(e){return e.name!==r}))?e.getWeather(r):alert("The city has already been determined")},children:[Object(n.jsx)("input",{placeholder:"City",type:"text",name:"city",onChange:function(e){i(e.currentTarget.value)}}),Object(n.jsx)("button",{children:"Create card"})]})}),Object(n.jsx)("div",{className:K.a.weatherItemBlock,children:0===e.cities.length?Object(n.jsx)("div",{className:K.a.cover,children:"FIND YOUR CITY!"}):e.loading?Object(n.jsx)(v,{}):e.cities.map((function(t){return Object(n.jsx)(ne,{name:t.name,temp:t.main.temp,weather:t.weather,minTemp:t.main.temp_min,maxTemp:t.main.temp_max,country:t.sys.country,deleteCard:e.deleteCard,getCard:e.getCard},t.id)}))})]})},re=Object(o.b)((function(e){return{cities:e.weatherPage.cities,newCityName:e.weatherPage.newCityName,loading:e.weatherPage.loading}}),{getWeather:function(e){return function(){var t=Object(w.a)(y.a.mark((function t(a){var n;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(M(e)),t.prev=1,t.next=4,N(e);case 4:n=t.sent,a(A(n.data)),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),a(R);case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()},getCard:function(e){return function(){var t=Object(w.a)(y.a.mark((function t(a){var n;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,N(e);case 3:n=t.sent,a(B(n.data)),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),a(R);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},deleteCard:function(e){return{type:T,payload:e}}})(ce),ie=a(111),se=a(66),oe=se.createStore,le=se.combineReducers,ue=se.applyMiddleware,de=se.compose,pe=oe(le({weatherPage:F}),(window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||de)(ue(ie.a))),je=function(){return Object(n.jsx)(l.a,{children:Object(n.jsx)(o.a,{store:pe,children:Object(n.jsxs)("div",{className:p.a.appWrapper,children:[Object(n.jsx)(Q,{}),Object(n.jsxs)("div",{className:p.a.appWrapperContent,children:[Object(n.jsx)(u.b,{exact:!0,path:"/",render:function(){return Object(n.jsx)(u.a,{from:"/",to:"/cities"})}}),Object(n.jsx)(u.b,{exact:!0,path:"/cities",render:function(){return Object(n.jsx)(re,{})}}),Object(n.jsx)(u.b,{exact:!0,path:"/cities/:cityName",render:function(){return Object(n.jsx)(V,{})}})]})]})})})},me=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,172)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,r=t.getLCP,i=t.getTTFB;a(e),n(e),c(e),r(e),i(e)}))};s.a.render(Object(n.jsx)(je,{}),document.getElementById("root")),me()},30:function(e,t,a){e.exports={detailBlock:"Details_detailBlock__1oftH",nameImageCountry:"Details_nameImageCountry__yVMo4",temp:"Details_temp__3l_7D",weatherDescription:"Details_weatherDescription__2_HB6",clouds:"Details_clouds__2JDyi",mainInfo:"Details_mainInfo__1119e",suncycle:"Details_suncycle__2enQH",sunrise:"Details_sunrise__2cIUj",sunset:"Details_sunset__3rfTX"}},39:function(e,t,a){e.exports={weatherItem:"WeatherItem_weatherItem__3_ipt",weatherCard:"WeatherItem_weatherCard__3yae7",temperature:"WeatherItem_temperature__12V51",countryName:"WeatherItem_countryName__3ck8Y",shortDescription:"WeatherItem_shortDescription__2OxSn",title:"WeatherItem_title__186vG"}},54:function(e,t,a){e.exports={weather:"Weather_weather__cgm8F",createForm:"Weather_createForm__wmoxM",weatherItemBlock:"Weather_weatherItemBlock__2Dgpv",preloader:"Weather_preloader__18zsf",cover:"Weather_cover__4uP4l"}},71:function(e,t,a){e.exports={appWrapper:"App_appWrapper__1-5Q9",appWrapperContent:"App_appWrapperContent__2v31U"}},95:function(e,t,a){e.exports={preloader:"Preloader_preloader__13OBf"}},96:function(e,t,a){e.exports={header:"Header_header__1Erth"}}},[[167,1,2]]]);
//# sourceMappingURL=main.4a859313.chunk.js.map